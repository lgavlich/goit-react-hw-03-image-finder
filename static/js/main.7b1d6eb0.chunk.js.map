{"version":3,"sources":["API/api.js","components/Button/Button.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","App.js","index.js"],"names":["api","fetchSearch","search","page","fetch","then","response","ok","json","Promise","reject","Error","Button","onClick","type","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","className","src","modalImage","alt","Component","SearchBar","state","imageName","hendleImageName","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","imageNaame","autocomplete","autofocus","placeholder","GalleryItem","id","webformatURL","largeImageURL","ImageGalleryItem","ImageGallery","images","onImgClick","map","Spinner","color","height","width","App","loader","showModal","formSubmit","res","hits","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","toggleModal","nodeName","dataset","img","prevProps","Loader","message","position","autoClose","newestOnTop","closeOnClick","rtl","ReactDOM","render","StrictMode","getElementById"],"mappings":"iQAWA,IAIeA,EAJH,CACVC,YAZF,SAAqBC,EAAQC,GAC3B,OAAOC,MAAM,8BAAD,OACoBF,EADpB,iBACmCC,EADnC,gGAEVE,MAAK,SAACC,GACN,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAJ,kBAAqBT,EAArB,qB,sBCQXU,EAZA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACE,8BACE,wBAAQC,KAAK,SAASD,QAASA,EAA/B,0BCHeE,E,4MAOnBC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKC,MAAMC,W,EAGfC,oBAAsB,SAACJ,GACjBA,EAAEK,gBAAkBL,EAAEM,QACxB,EAAKJ,MAAMC,W,uDAbf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKV,iB,kCAE1C,WACEQ,OAAOG,oBAAoB,UAAWD,KAAKV,iB,oBAY7C,WACE,OACE,qBAAKY,UAAU,UAAUf,QAASa,KAAKL,oBAAvC,SACE,qBAAKO,UAAU,QAAf,SACE,qBAAKC,IAAKH,KAAKP,MAAMW,WAAYC,IAAI,a,GArBZC,aCCdC,E,4MACnBC,MAAQ,CACNC,UAAW,I,EAGbC,gBAAkB,SAACnB,GACjB,EAAKoB,SAAS,CAAEF,UAAWlB,EAAEK,cAAcgB,MAAMC,iB,EAGnDC,aAAe,SAACvB,GAEd,GADAA,EAAEwB,iBACkC,KAAhC,EAAKP,MAAMC,UAAUO,OACvB,OAAOC,IAAMC,MAAM,0IAErB,EAAKzB,MAAM0B,SAAS,EAAKX,MAAMY,YAC/B,EAAKT,SAAS,CAAEF,UAAW,M,4CAE7B,WACE,OACE,wBAAQP,UAAU,YAAlB,SACE,uBAAMiB,SAAUnB,KAAKc,aAAcZ,UAAU,aAA7C,UACE,wBAAQd,KAAK,SAASc,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVd,KAAK,OACLiC,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA9BejB,aCiBxBkB,EAlBK,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,GAAIC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cACvC,OACE,oBAAIC,kBAAgB,EAApB,SACE,qBACEzB,IAAKuB,EACLrB,IAAI,MACJH,UAAU,yBACV,WAAUyB,KALYF,ICoBfI,EArBM,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,WAAX,OACnB,oBAAI7B,UAAU,eAAef,QAAS4C,EAAtC,SACGD,EAAOE,KAAI,gBAAGP,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACV,cAACC,EAAD,CAEEF,aAAcA,EACdC,cAAeA,GAFVF,S,iBCEEQ,EARC,WACd,OACE,8BACE,cAAC,IAAD,CAAQ7C,KAAK,OAAO8C,MAAM,UAAUC,OAAQ,IAAKC,MAAO,SCKxDC,E,4MACJ7B,MAAQ,CACNC,UAAW,GACXqB,OAAQ,GACRrD,KAAM,EACN6D,QAAQ,EACRC,WAAW,EACXnC,WAAY,GACZc,MAAO,M,EAQTsB,WAAa,SAAC/B,GACZ,EAAKE,SAAS,CAAEF,UAAWA,EAAWhC,KAAM,EAAGqD,OAAQ,M,EAGzDvD,YAAc,WACZ,MAAoC,EAAKiC,MAAjCC,EAAR,EAAQA,UAAWhC,EAAnB,EAAmBA,KAAMqD,EAAzB,EAAyBA,OACzB,EAAKnB,SAAS,CAAE2B,QAAQ,IAExBhE,EACGC,YAAYkC,EAAWhC,GACvBE,MAAK,SAAC8D,GACL,IAAQC,EAASD,EAATC,KAER,EAAK/B,UAAS,SAACgC,GAAD,MAAgB,CAC5Bb,OAAO,GAAD,mBAAMa,EAAUb,QAAhB,YAA2BY,IACjCjE,KAAMkE,EAAUlE,KAAO,MAGrBqD,EAAOc,OAAS,IAClB9C,OAAO+C,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAIfC,OAAM,SAACjC,GAAD,OAAW,EAAKP,SAAS,CAAEO,aACjCkC,SAAQ,kBAAM,EAAKzC,SAAS,CAAE2B,QAAQ,Q,EAG3Ce,YAAc,WACZ,EAAK1C,UAAS,kBAAoB,CAChC4B,WADY,EAAGA,e,EAKnBR,WAAa,SAACxC,GACc,QAAtBA,EAAEM,OAAOyD,WAGb,EAAK3C,SAAS,CACZP,WAAYb,EAAEM,OAAO0D,QAAQC,MAE/B,EAAKH,gB,wDA/CP,SAAmBI,EAAWd,GACxBA,EAAUlC,YAAcT,KAAKQ,MAAMC,WACrCT,KAAKzB,gB,oBAgDT,WACE,MAAkDyB,KAAKQ,MAA/CsB,EAAR,EAAQA,OAAQQ,EAAhB,EAAgBA,OAAQC,EAAxB,EAAwBA,UAAWnC,EAAnC,EAAmCA,WACnC,OACE,gCACGkC,GAAU,cAACoB,EAAD,IACV1D,KAAKQ,MAAMU,OAAS,4BAAIlB,KAAKQ,MAAMU,MAAMyC,UAE1C,cAAC,IAAD,CACEC,SAAS,aACTC,UAAW,IACXC,aAAa,EACbC,cAAY,EACZC,KAAK,IAEP,cAAC,EAAD,CAAW7C,SAAUnB,KAAKwC,aAC1B,cAAC,EAAD,CAAcV,OAAQA,EAAQC,WAAY/B,KAAK+B,aAE9CD,EAAOc,OAAS,IAAMN,GAAU,cAAC,EAAD,CAAQnD,QAASa,KAAKzB,cACtDgE,GACC,cAAC,EAAD,CAAOnC,WAAYA,EAAYV,QAASM,KAAKqD,qB,GAhFrC/C,aAsFH+B,IC3Ff4B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpB,SAASqB,eAAe,W","file":"static/js/main.7b1d6eb0.chunk.js","sourcesContent":["function fetchSearch(search, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=23006232-27664577dbbc234e8c464ad7c&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Request ${search} not found`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchSearch,\r\n};\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.modalImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  modalImage: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n\r\n  hendleImageName = (e) => {\r\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.imageName.trim() === \"\") {\r\n      return toast.error(\"ВВедіть правильний запит\");\r\n    }\r\n    this.props.onSubmit(this.state.imageNaame);\r\n    this.setState({ imageName: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst GalleryItem = ({ id, webformatURL, largeImageURL }) => {\r\n  return (\r\n    <li ImageGalleryItem key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"img\"\r\n        className=\"ImageGalleryItem-image\"\r\n        data-img={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default GalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, onImgClick }) => (\r\n  <ul className=\"ImageGallery\" onClick={onImgClick}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div>\r\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\nimport api from \"./API/api\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.js\";\nimport Loader from \"./components/Loader/Loader\";\n\nclass App extends Component {\n  state = {\n    imageName: \"\",\n    images: [],\n    page: 1,\n    loader: false,\n    showModal: false,\n    modalImage: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.fetchSearch();\n    }\n  }\n  formSubmit = (imageName) => {\n    this.setState({ imageName: imageName, page: 1, images: [] });\n  };\n\n  fetchSearch = () => {\n    const { imageName, page, images } = this.state;\n    this.setState({ loader: true });\n\n    api\n      .fetchSearch(imageName, page)\n      .then((res) => {\n        const { hits } = res;\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n\n        if (images.length > 12) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImgClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    this.setState({\n      modalImage: e.target.dataset.img,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, loader, showModal, modalImage } = this.state;\n    return (\n      <div>\n        {loader && <Loader />}\n        {this.state.error && <p>{this.state.error.message}</p>}\n\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={2000}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n        />\n        <Searchbar onSubmit={this.formSubmit} />\n        <ImageGallery images={images} onImgClick={this.onImgClick} />\n\n        {images.length > 0 && !loader && <Button onClick={this.fetchSearch} />}\n        {showModal && (\n          <Modal modalImage={modalImage} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}